@{
    ViewBag.Title = "Indicativos de Desempenho";
    ViewBag.SubTitle = "";
}

<div class="row">
    <!-- Horizontal Form -->
    <div class="box box-info">
        <!-- form start -->
        <form class="form-horizontal" method="post" action="@Url.Action("Exportar")">
            <div class="box-body">
                <div class="form-group">
                    <label for="periodo" class="col-sm-1 control-label">Período</label>
                    <div class="col-sm-2">
                        @Html.DropDownList("Periodo", null, "Selecione..", htmlAttributes: new { @class = "form-control" })
                    </div>
                    <label for="IdVendedor" class="col-sm-1 control-label">Vendedor</label>
                    <div class="col-sm-4">
                        @Html.DropDownList("IdVendedor", null, "Todos", htmlAttributes: new { @class = "form-control" })
                    </div>
                    <div class="col-sm-4">&nbsp;</div>
                </div>
            </div>
            <!-- /.box-body -->
            <div class="box-footer">
                <button type="button" id="btnVisualizar" class="btn btn-default">Visualizar</button>
                <button type="submit" class="btn btn-default">Exportar</button>
            </div>
            <!-- /.box-footer -->
        </form>
    </div>
</div>

<!-- Report Partial View -->
<div class="row" id="divReport"></div>


@section scripts {
    <script>
        $(function () {
            $("#btnVisualizar").click(function () {
                $("#divReport").html("<span></span>");
                var periodo = $("#Periodo").val();
                var vendedor = $("#IdVendedor").val();

                $.get('@Url.Action("Exibir")', { pPeriodo: periodo, pIdVendedor: vendedor }, function (result) {
                    $("#divReport").html(result);
                });
            });
        });
    </script>
}
